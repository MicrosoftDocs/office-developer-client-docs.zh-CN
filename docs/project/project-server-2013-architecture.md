---
title: Project Server 体系结构
manager: soliver
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: 2cfa5a6e-2f5c-440c-b35a-bc7a34648f9c
description: Project Server 2013 集成整个 SharePoint 场中的项目管理功能，并允许使用 Project Online 与客户端对象模型 (CSOM) 和的 OData 接口的报告数据。
ms.openlocfilehash: 992fae3790b8bdb6ab55f41d42ef0229a75e255c
ms.sourcegitcommit: 9d60cd82b5413446e5bc8ace2cd689f683fb41a7
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/11/2018
ms.locfileid: "19779564"
---
# <a name="project-server-architecture"></a><span data-ttu-id="31889-103">Project Server 体系结构</span><span class="sxs-lookup"><span data-stu-id="31889-103">Project Server architecture</span></span>

<span data-ttu-id="31889-104">Project Server 2013 集成整个 SharePoint 场中的项目管理功能，并允许使用 Project Online 与客户端对象模型 (CSOM) 和的 OData 接口的报告数据。</span><span class="sxs-lookup"><span data-stu-id="31889-104">Project Server 2013 integrates project management functionality throughout a SharePoint farm and enables the use of Project Online with a client-side object model (CSOM) and an OData interface for the Reporting data.</span></span>
   
<span data-ttu-id="31889-105">Project Server 2013 是扩展 Office Project Server 2007 中引入的体系结构的多层系统。</span><span class="sxs-lookup"><span data-stu-id="31889-105">Project Server 2013 is a multitiered system that extends the architecture introduced in Office Project Server 2007.</span></span> <span data-ttu-id="31889-106">体系结构更改包括 Project Application Service 与 SharePoint 网站集添加一些业务对象上 web 前端 (WFE)、 远程访问的客户端对象模型 (CSOM)、 一个 Project 数据库，关联报告表和视图，实现集成的 Windows Workflow Foundation 版本 4 (WF4) 工作流管理器客户端 1.0 在云中，或通过上的本地服务器和多个 Project server 可访问的远程事件接收器的 OData 接口安装。</span><span class="sxs-lookup"><span data-stu-id="31889-106">Architectural changes include association of the Project Application Service with SharePoint site collections, the addition of some business objects on the web front-end (WFE), the client-side object model (CSOM) for remote access, a single Project database, an OData interface for the Reporting tables and views, integration of Windows Workflow Foundation version 4 (WF4) through Workflow Manager Client 1.0 in the cloud or on a local server, and remote event receivers that are accessible by multiple Project Server installations.</span></span> <span data-ttu-id="31889-107">除了内部部署自定义解决方案，您可以创建包含远程事件接收器和访问的 CSOM 和 OData 接口的组件的应用程序。</span><span class="sxs-lookup"><span data-stu-id="31889-107">In addition to on-premises custom solutions, you can create apps that include remote event receivers and components that access the CSOM and OData interfaces.</span></span>
  
<span data-ttu-id="31889-108">前端层包括 Project Professional 2013、 Project Web App 和第三方应用程序。</span><span class="sxs-lookup"><span data-stu-id="31889-108">The front-end tier includes Project Professional 2013, Project Web App, and third-party apps.</span></span> <span data-ttu-id="31889-109">与通过 Project Server 接口 (PSI) 或通过 CSOM 终结点，其中反过来与 PSI 和业务对象层通信的中间层通信客户端应用程序。</span><span class="sxs-lookup"><span data-stu-id="31889-109">Client applications communicate with the middle tier through the Project Server Interface (PSI) or through the CSOM endpoints, which in turn communicate with the PSI and the business object layer.</span></span> <span data-ttu-id="31889-110">数据库访问集成中的业务对象。</span><span class="sxs-lookup"><span data-stu-id="31889-110">Database access is integrated in the business objects.</span></span> <span data-ttu-id="31889-111">Project Server 事件系统可以访问本地事件处理程序和远程事件接收器。</span><span class="sxs-lookup"><span data-stu-id="31889-111">The Project Server Eventing System can access both local event handlers and remote event receivers.</span></span> <span data-ttu-id="31889-112">Project Calculation Service 实现在 Project Server 中的 Project Professional 计划引擎。</span><span class="sxs-lookup"><span data-stu-id="31889-112">The Project Calculation Service implements the Project Professional scheduling engine within Project Server.</span></span> <span data-ttu-id="31889-113">客户端应用程序不 （或不应） 直接访问 Project 数据库;Project Server 隐藏来自客户端业务对象。</span><span class="sxs-lookup"><span data-stu-id="31889-113">Client applications do not (or should not) directly access the Project database; Project Server hides business objects from clients.</span></span>
  
> [!NOTE]
> <span data-ttu-id="31889-114">Project Server 构建在 SharePoint 体系结构。</span><span class="sxs-lookup"><span data-stu-id="31889-114">Project Server is built on the SharePoint architecture.</span></span> <span data-ttu-id="31889-115">有关 SharePoint Server 2013 体系结构和 SharePoint 应用程序模型的信息，请参阅 Office 2013 开发人员文档中的*SharePoint 开发入门*一节。</span><span class="sxs-lookup"><span data-stu-id="31889-115">For information about SharePoint Server 2013 architecture and the SharePoint app model, see the  *Getting started with SharePoint development*  section in the Office 2013 developer documentation.</span></span> 

<span data-ttu-id="31889-116"><a name="pj15_Architecture_SharePoint"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-116"></span></span>

## <a name="integrating-with-sharepoint-site-collections"></a><span data-ttu-id="31889-117">与 SharePoint 网站集集成</span><span class="sxs-lookup"><span data-stu-id="31889-117">Integrating with SharePoint site collections</span></span>

<span data-ttu-id="31889-118">Project Server 2013 中的 Project 应用程序服务可与 SharePoint 网站集以用于 SharePoint 任务列表相关联、 Project 应用程序服务还可以导入 SharePoint 任务列表作为企业项目为完全的 Project Server控件。</span><span class="sxs-lookup"><span data-stu-id="31889-118">The Project Application Service in Project Server 2013 can be associated with a SharePoint site collection for use with SharePoint tasks lists, The Project Application Service can also import a SharePoint tasks list as an enterprise project for full Project Server control.</span></span> <span data-ttu-id="31889-119">与 SharePoint 任务列表，SharePoint 将维护网站集中; 项目网站Project Professional 可以与同步和更新任务列表。</span><span class="sxs-lookup"><span data-stu-id="31889-119">With a SharePoint tasks list, SharePoint maintains the project site in a site collection; Project Professional can synchronize with and update the tasks list.</span></span> <span data-ttu-id="31889-120">项目网站可以是独立的 SharePoint 任务列表或任务列表与.mpp 文件; 同步本地或 SharePoint 库中，可以存储的.mpp 文件。</span><span class="sxs-lookup"><span data-stu-id="31889-120">A project site can be an independent SharePoint tasks list or a tasks list that is synchronized with an .mpp file; the .mpp file can be stored locally or in a SharePoint library.</span></span> 
  
<span data-ttu-id="31889-121">Project Server 维护项目时它具有完全控制;Project Professional 将数据保存到 Project Server 直接。</span><span class="sxs-lookup"><span data-stu-id="31889-121">Project Server maintains the projects when it has full control; Project Professional saves data directly to Project Server.</span></span> <span data-ttu-id="31889-122">表 1 Project Server 拥有完全控制权限时比较的任务列表、 日程安排 web 部件，以及针对 SharePoint 的任务列表的控件和导入的项目的其他功能的行为。</span><span class="sxs-lookup"><span data-stu-id="31889-122">Table 1 compares the behavior of a tasks list, the Schedule web part, and other functionality for SharePoint control of tasks lists and for imported projects when Project Server has full control.</span></span> <span data-ttu-id="31889-123">日程安排 web 部件包含可在其中编辑项目计划 Project Web App 页上的网格。</span><span class="sxs-lookup"><span data-stu-id="31889-123">The Schedule web part contains the grid on the Project Web App page where you can edit a project schedule.</span></span> <span data-ttu-id="31889-124">绑定的模式是其中 statusing 数据一次输入任务和时间表;在单输入模式下，任务状态数据是从时间表单独输入。</span><span class="sxs-lookup"><span data-stu-id="31889-124">The tied mode is where statusing data is entered once for both tasks and timesheets; in single entry mode, task statusing data is entered separately from timesheets.</span></span>
  
<span data-ttu-id="31889-125">**表 1。SharePoint 任务列表和完全控制比较**</span><span class="sxs-lookup"><span data-stu-id="31889-125">**Table 1. Comparison of SharePoint task lists and full control**</span></span>

| <span data-ttu-id="31889-126">功能</span><span class="sxs-lookup"><span data-stu-id="31889-126">Feature</span></span> | <span data-ttu-id="31889-127">任务列表</span><span class="sxs-lookup"><span data-stu-id="31889-127">Task list</span></span> | <span data-ttu-id="31889-128">完全控制权</span><span class="sxs-lookup"><span data-stu-id="31889-128">Full-control</span></span> |
|:-----|:-----|:-----|
|<span data-ttu-id="31889-129">**在 SharePoint 中的任务列表**</span><span class="sxs-lookup"><span data-stu-id="31889-129">**Task list in SharePoint**</span></span> <br/> |<span data-ttu-id="31889-130">读/写</span><span class="sxs-lookup"><span data-stu-id="31889-130">Read/write</span></span>  <br/> |<span data-ttu-id="31889-131">只读</span><span class="sxs-lookup"><span data-stu-id="31889-131">Read-only</span></span>  <br/> |
|<span data-ttu-id="31889-132">**日程安排 web 部件**</span><span class="sxs-lookup"><span data-stu-id="31889-132">**Schedule web part**</span></span> <br/> |<span data-ttu-id="31889-133">只读</span><span class="sxs-lookup"><span data-stu-id="31889-133">Read-only</span></span>  <br/> |<span data-ttu-id="31889-134">读/写</span><span class="sxs-lookup"><span data-stu-id="31889-134">Read/write</span></span>  <br/> |
|<span data-ttu-id="31889-135">**报告**</span><span class="sxs-lookup"><span data-stu-id="31889-135">**Reporting**</span></span> <br/> |<span data-ttu-id="31889-136">通过 Project Server 进行的各种报告</span><span class="sxs-lookup"><span data-stu-id="31889-136">Rich reporting through Project Server</span></span>  <br/> |<span data-ttu-id="31889-137">通过 Project Server 进行的各种报告</span><span class="sxs-lookup"><span data-stu-id="31889-137">Rich reporting through Project Server</span></span>  <br/> |
|<span data-ttu-id="31889-138">**其他 Project Server 功能**</span><span class="sxs-lookup"><span data-stu-id="31889-138">**Other Project Server functionality**</span></span> <br/> | <span data-ttu-id="31889-139">阻止的功能：</span><span class="sxs-lookup"><span data-stu-id="31889-139">Blocked functionality:</span></span>  <br/><span data-ttu-id="31889-140">-服务器端项目编辑，与 Project Web App 或自定义客户端应用程序</span><span class="sxs-lookup"><span data-stu-id="31889-140">- Server-side project edits, with Project Web App or custom client applications</span></span>  <br/><span data-ttu-id="31889-141">-进展状况</span><span class="sxs-lookup"><span data-stu-id="31889-141">- Statusing</span></span>  <br/><span data-ttu-id="31889-142">-任务不是在绑定模式中可见</span><span class="sxs-lookup"><span data-stu-id="31889-142">- Tasks are not visible in tied mode</span></span>  <br/> |<span data-ttu-id="31889-143">启用了完整功能</span><span class="sxs-lookup"><span data-stu-id="31889-143">Full functionality is enabled</span></span>  <br/> |
   
### <a name="managing-projects-as-sharepoint-task-lists"></a><span data-ttu-id="31889-144">将项目作为 SharePoint 任务列表进行管理</span><span class="sxs-lookup"><span data-stu-id="31889-144">Managing projects as SharePoint task lists</span></span>
<span data-ttu-id="31889-145"><a name="pj15_Architecture_VisibilityMode"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-145"></span></span>

<span data-ttu-id="31889-146">Project Server 时，SharePoint 将维护控件、 任务列表和文档库中的 Project Professional 2013 (.mpp) 文件都能看到 Project Application Service，但 SharePoint 将维护 SharePoint 网站集相关联主同步的数据 （见图 1）。</span><span class="sxs-lookup"><span data-stu-id="31889-146">When Project Server is associated with a SharePoint site collection where SharePoint maintains control, task lists and Project Professional 2013 (.mpp) files in document libraries are visible to the Project Application Service, but SharePoint maintains the master data for synchronization (see Figure 1).</span></span> <span data-ttu-id="31889-147">无法完成服务器端日程安排与日程安排 web 部件。</span><span class="sxs-lookup"><span data-stu-id="31889-147">Server-side scheduling with the Schedule web part cannot be done.</span></span> <span data-ttu-id="31889-148">您可以使用 Project Professional 与同步和编辑项目网站中的任务列表。</span><span class="sxs-lookup"><span data-stu-id="31889-148">You can use Project Professional to synchronize with and edit the task list in a project site.</span></span> <span data-ttu-id="31889-149">通过启动与 SharePoint 任务列表，组织可以逐步发展，用于 Project Server 的全部功能。</span><span class="sxs-lookup"><span data-stu-id="31889-149">By starting with SharePoint task lists, organizations can gradually evolve to use the full functionality of Project Server.</span></span>
  
<span data-ttu-id="31889-150">图 1 显示了在 SharePoint 任务列表中维护项目时的以下过程：</span><span class="sxs-lookup"><span data-stu-id="31889-150">Figure 1 shows the following processes when projects are maintained in SharePoint task lists:</span></span> 
  
- <span data-ttu-id="31889-151">(A) Project Professional 可以与任务列表同步，并在与 Project Application Service 建立关联之前或之后在网站集中创建新的项目网站。</span><span class="sxs-lookup"><span data-stu-id="31889-151">(A) Project Professional can synchronize with task lists and create new project sites in the site collection either before or after association with the Project Application Service.</span></span>
    
- <span data-ttu-id="31889-152">(B) Project Server 将与项目网站数据同步以进行报告，而 SharePoint 将维护主数据；任务列表保持读/写。</span><span class="sxs-lookup"><span data-stu-id="31889-152">(B) Project Server synchronizes with project site data for reporting purposes, but SharePoint maintains the master data; task lists remain read/write.</span></span>
    
- <span data-ttu-id="31889-p107">(C) 在建立关联后，Project Professional 可创建新的项目，并将项目保存或发布到 Project Server。Project Professional 中的活动缓存将与 Project Server 保持数据同步。</span><span class="sxs-lookup"><span data-stu-id="31889-p107">(C) After association, Project Professional can create new projects and save or publish to Project Server. The Active Cache in Project Professional maintains data synchronization with Project Server.</span></span>
    
- <span data-ttu-id="31889-155">（D） 时在 Project Professional 发布新项目时，用户将具有创建项目的项目网站的选项。</span><span class="sxs-lookup"><span data-stu-id="31889-155">(D) When a new project is published in Project Professional, the user has the option of creating a project site for the project.</span></span> <span data-ttu-id="31889-156">作为 SharePoint 任务列表项目类型或完全控制企业项目类型 (EPT)，还可以在 Project Web App 中创建一个项目。</span><span class="sxs-lookup"><span data-stu-id="31889-156">A project can also be created in Project Web App as a SharePoint task list project type or as a full-control enterprise project type (EPT).</span></span> <span data-ttu-id="31889-157">步骤 (D) 显示了完全控制 EPT。</span><span class="sxs-lookup"><span data-stu-id="31889-157">Step (D) shows the full-control EPT.</span></span>
    
<span data-ttu-id="31889-158">**图 1。使用项目网站作为 SharePoint 任务列表**</span><span class="sxs-lookup"><span data-stu-id="31889-158">**Figure 1. Using project sites as SharePoint task lists**</span></span>

<span data-ttu-id="31889-159">![在可见性模式下使用项目网站](media/pj15_Architecture_VisibilityMode.gif "在可见性模式下使用项目网站")</span><span class="sxs-lookup"><span data-stu-id="31889-159">![Using project sites in visibility mode](media/pj15_Architecture_VisibilityMode.gif "Using project sites in visibility mode")</span></span>

<br/>

### <a name="managing-projects-with-full-control"></a><span data-ttu-id="31889-160">使用完全控制权管理项目</span><span class="sxs-lookup"><span data-stu-id="31889-160">Managing projects with full control</span></span>
<span data-ttu-id="31889-161"><a name="pj15_Architecture_ManagedMode"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-161"></span></span>

<span data-ttu-id="31889-162">Project Server 与网站集相关联，并且具有完全控制时, Project Server 导入的 SharePoint 作为企业项目任务列表，并可以删除任何相关的.mpp 文件。</span><span class="sxs-lookup"><span data-stu-id="31889-162">When Project Server is associated with a site collection and has full control, Project Server imports SharePoint task lists as enterprise projects, and can delete any related .mpp files.</span></span> <span data-ttu-id="31889-163">Project Server 将维护主数据的任务列表同步;在网站集中的任务列表变为只读 （见图 2）。</span><span class="sxs-lookup"><span data-stu-id="31889-163">Project Server maintains the master data for task list synchronization; task lists in the site collection become read-only (see Figure 2).</span></span> <span data-ttu-id="31889-164">使用 Project Professional 或使用 Project Web App，可以编辑导入的项目。</span><span class="sxs-lookup"><span data-stu-id="31889-164">Imported projects can be edited by using Project Professional or by using Project Web App.</span></span>
  
> [!NOTE]
> <span data-ttu-id="31889-p110">在 Project Server 导入一个项目后，用户可选择是从网站中删除该项目，还是在编辑项目前断开连接。可以在 Project Professional 中作出选择。</span><span class="sxs-lookup"><span data-stu-id="31889-p110">After Project Server imports a project, the user chooses whether to delete the project from the site or break the connection before editing the project. You can make the choice in Project Professional.</span></span> 
  
<span data-ttu-id="31889-167">图 2 显示了当 Project Server 使用完全控制权维护企业项目时的以下过程：</span><span class="sxs-lookup"><span data-stu-id="31889-167">Figure 2 shows the following processes when Project Server maintains enterprise projects with full control:</span></span>
  
- <span data-ttu-id="31889-p111">(A) 用户可以选择要导入的项目网站。Project Server 会导入这些项目网站，并（可选）删除关联的 .mpp 文件。导入的项目的 SharePoint 任务列表会变为只读。</span><span class="sxs-lookup"><span data-stu-id="31889-p111">(A) The user can choose which project sites to import. Project Server imports the project sites, and optionally deletes associated .mpp files. The SharePoint task list of an imported project becomes read-only.</span></span>
    
- <span data-ttu-id="31889-171">（Project Professional B） 后关联，请创建新的项目和保存或发布到 Project Server。</span><span class="sxs-lookup"><span data-stu-id="31889-171">(B) After association, Project Professional creates new projects and saves or publishes to Project Server.</span></span> <span data-ttu-id="31889-172">在 Project Professional 活动缓存可保持与 Project Server 数据同步。</span><span class="sxs-lookup"><span data-stu-id="31889-172">The Active Cache in Project Professional maintains data synchronization with Project Server.</span></span> <span data-ttu-id="31889-173">Project Web App 中的日程安排 web 部件可执行服务器端日程安排。</span><span class="sxs-lookup"><span data-stu-id="31889-173">The Schedule web part in Project Web App can do server-side scheduling.</span></span>
    
- <span data-ttu-id="31889-174">（C） 时在 Project Professional 发布新项目时，用户将具有创建项目的项目网站的选项。</span><span class="sxs-lookup"><span data-stu-id="31889-174">(C) When a new project is published in Project Professional, the user has the option of creating a project site for the project.</span></span> <span data-ttu-id="31889-175">此外可以完全控制 EPT 与 Project Web App 中创建和发布到网站集中的项目网站的只读的任务列表与项目。</span><span class="sxs-lookup"><span data-stu-id="31889-175">A project can also be created in Project Web App with a full-control EPT and published with a read-only task list to a project site in the site collection.</span></span>
    
<span data-ttu-id="31889-176">**图 2。使用完全控制权使用项目网站**</span><span class="sxs-lookup"><span data-stu-id="31889-176">**Figure 2. Using project sites with full control**</span></span>

<span data-ttu-id="31889-177">![在托管模式下使用项目网站](media/pj15_Architecture_ManagedMode.gif "在托管模式下使用项目网站")</span><span class="sxs-lookup"><span data-stu-id="31889-177">![Using project sites in managed mode](media/pj15_Architecture_ManagedMode.gif "Using project sites in managed mode")</span></span>
  
## <a name="general-architecture"></a><span data-ttu-id="31889-178">常规体系结构</span><span class="sxs-lookup"><span data-stu-id="31889-178">General architecture</span></span>
<span data-ttu-id="31889-179"><a name="pj15_Architecture_General"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-179"></span></span>

<span data-ttu-id="31889-180">图 3 显示了 Project Server 2013 体系结构，包括 Project Service 应用程序，WFE 上的一个 Project Web App 实例和多个其他客户端应用程序包括 Project Professional 2013 的通用的视图。</span><span class="sxs-lookup"><span data-stu-id="31889-180">Figure 3 shows a generalized view of the Project Server 2013 architecture, including the Project Service Application, one Project Web App instance on a WFE, and several other client applications including Project Professional 2013.</span></span>
  
<span data-ttu-id="31889-181">可以有多个与后端 Project Service 应用程序进行通信的 Project Web App 实例。</span><span class="sxs-lookup"><span data-stu-id="31889-181">There can be multiple Project Web App instances that communicate with the back-end Project Service Application.</span></span> <span data-ttu-id="31889-182">在本地安装，WFE 可以是在 SharePoint 场中的一台服务器上或可以与 Project Service 应用程序相同的 SharePoint 服务器上。</span><span class="sxs-lookup"><span data-stu-id="31889-182">For an on-premises installation, the WFE can be on a separate server in a SharePoint farm, or it can be on the same SharePoint server with the Project Service Application.</span></span> <span data-ttu-id="31889-183">Project Online 包括 WFE、 Project Service 应用程序，以及本地或远程工作流管理器客户端 1.0 服务器。</span><span class="sxs-lookup"><span data-stu-id="31889-183">Project Online includes a WFE, the Project Service Application, and a local or remote Workflow Manager Client 1.0 server.</span></span> 
  
<span data-ttu-id="31889-184">**图 3。常规 Project Server 2013 体系结构**</span><span class="sxs-lookup"><span data-stu-id="31889-184">**Figure 3. General Project Server 2013 architecture**</span></span>

<span data-ttu-id="31889-185">![Project Server 体系结构](media/pj15_Architecture_ProjectServiceApp_WFE.gif "Project Server 体系结构")</span><span class="sxs-lookup"><span data-stu-id="31889-185">![Project Server architecture](media/pj15_Architecture_ProjectServiceApp_WFE.gif "Project Server architecture")</span></span>

<br/>

<span data-ttu-id="31889-186">以下常用注释适用于图 3：</span><span class="sxs-lookup"><span data-stu-id="31889-186">The following general comments apply to Figure 3:</span></span>
  
- <span data-ttu-id="31889-187">**Project Online:** 您可以创建使用 CSOM、 REST 和 OData 接口的应用程序。</span><span class="sxs-lookup"><span data-stu-id="31889-187">**Project Online:** You can create apps that use the CSOM, REST, and OData interfaces.</span></span> <span data-ttu-id="31889-188">应用程序包还可以安装在本地服务器上，在 Azure 服务器，或在 Microsoft Azure 上自定义 web 服务中的远程事件接收器。</span><span class="sxs-lookup"><span data-stu-id="31889-188">An app package can also install remote event receivers in a custom web service on a local server, on an Azure server, or on Microsoft Azure.</span></span> <span data-ttu-id="31889-189">Project Online 不支持第三方在内部部署解决方案、 WCF 接口、 ASMX 接口或本地事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="31889-189">Project Online does not support third-party on-premises solutions, the WCF interface, the ASMX interface, or local event handlers.</span></span> 
    
- <span data-ttu-id="31889-190">**事件接收器：** 此外可以调用事件接收器的事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="31889-190">**Event receivers:** Event receivers can also be called event handlers.</span></span> <span data-ttu-id="31889-191">Project Online 支持远程 Project Server 事件接收器，可通过在云中的 Project Web App 实例或内部部署 Project Server 安装的注册。</span><span class="sxs-lookup"><span data-stu-id="31889-191">Project Online supports registration of remote Project Server event receivers, which can be used by a Project Web App instance in the cloud or by an on-premises Project Server installation.</span></span> <span data-ttu-id="31889-192">内部部署 Project Server 安装支持远程事件接收器和完全信任的本地事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="31889-192">An on-premises Project Server installation supports remote event receivers and local full-trust event handlers.</span></span> 
    
- <span data-ttu-id="31889-193">**浏览器：** 不存在上查看某些 Project Web App 页中，跨浏览器限制为 Project Server 2010 中有。</span><span class="sxs-lookup"><span data-stu-id="31889-193">**Browsers:** There are no cross-browser limitations on viewing some Project Web App pages, as there are in Project Server 2010.</span></span> <span data-ttu-id="31889-194">充分利用 Project Web app 支持以下浏览器：</span><span class="sxs-lookup"><span data-stu-id="31889-194">The following browsers are supported for full use with Project Web App:</span></span> 
    
  - <span data-ttu-id="31889-195">Internet Explorer 8.x （在 Windows 7 和早期版本的 Microsoft Windows），Internet Explorer 9.x 和 Internet Explorer 10.x</span><span class="sxs-lookup"><span data-stu-id="31889-195">Internet Explorer 8.x (on Windows 7 and earlier versions of Microsoft Windows), Internet Explorer 9.x, and Internet Explorer 10.x</span></span> 
  - <span data-ttu-id="31889-196">Firefox 4.x（在 Windows、Mac OS-X 和 Linux/Unix 上）</span><span class="sxs-lookup"><span data-stu-id="31889-196">Firefox 4.x (on Windows, Mac OS-X, and Linux/Unix)</span></span>
  - <span data-ttu-id="31889-197">Safari 5.x（在 Windows 和 Mac OS-X 上）</span><span class="sxs-lookup"><span data-stu-id="31889-197">Safari 5.x (on Windows and Mac OS-X)</span></span>
  - <span data-ttu-id="31889-198">Chrome</span><span class="sxs-lookup"><span data-stu-id="31889-198">Chrome</span></span>
    
- <span data-ttu-id="31889-199">**编程接口：** 对于第三方应用程序，Project Online 公开 （包括 REST） 的 HTTP/HTTPS 接口、 CSOM 接口、 CSOM、 OData 服务和 OData 服务报告。</span><span class="sxs-lookup"><span data-stu-id="31889-199">**Programmatic interfaces:** For third-party apps, Project Online exposes the HTTP/HTTPS interface (including REST), the CSOM interface, an OData service for the CSOM, and an OData service for reporting.</span></span> <span data-ttu-id="31889-200">对于本地 （Intranet) 的第三方客户端应用程序，可用于 WCF 接口 PSI，或您可以使用通过 HTTP CSOM、 OData、 和 REST 接口。</span><span class="sxs-lookup"><span data-stu-id="31889-200">For third-party client applications that are on-premises (on the Intranet), you can use the WCF interface for the PSI, or you can use the CSOM, OData, and REST interfaces through HTTP.</span></span> <span data-ttu-id="31889-201">Project Web App 和 Project Professional 2013 客户端这两个使用 WCF 接口。</span><span class="sxs-lookup"><span data-stu-id="31889-201">The Project Web App and Project Professional 2013 clients both use the WCF interface.</span></span> <span data-ttu-id="31889-202">在单服务器安装中，前端的 ASMX web 服务、 CSOM、 和 REST 内部调用后端 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-202">In a single-server installation, the front-end ASMX web services, CSOM, and REST internally call the back-end WCF services.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="31889-203">PSI 中的 web 服务 SOAP 基于 ASMX 接口 Project Server 2013 中仍然可用，但已被弃用。</span><span class="sxs-lookup"><span data-stu-id="31889-203">The SOAP-based ASMX interface for web services in the PSI is still available in Project Server 2013, but is deprecated.</span></span> 
  
    <span data-ttu-id="31889-204">由内部 OData.svc WCF 服务实现报告的 OData 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-204">The OData service for reporting is implemented by the internal OData.svc WCF service.</span></span> <span data-ttu-id="31889-205">可以通过使用的报表数据来获取服务元数据文档`http://ServerName/ProjectServerName/_api/ProjectData/$metadata`。</span><span class="sxs-lookup"><span data-stu-id="31889-205">You can get the Service Metadata Document for the reporting data by using  `http://ServerName/ProjectServerName/_api/ProjectData/$metadata`.</span></span> 
    
    <span data-ttu-id="31889-206">CSOM 的 OData 服务适用于 Windows RT、 iOS 和 Android，其中您可以使用 REST 接口与 JavaScript 中的 HTML 页等的平台。</span><span class="sxs-lookup"><span data-stu-id="31889-206">The OData service for the CSOM is intended for platforms such as Windows RT, iOS, and Android, where you can use the REST interface with JavaScript in HTML pages.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="31889-207">尽管`$metadata`选项**ProjectData**报告服务有效的`$metadata` **ProjectServer**服务 CSOM 中的删除 Project Server 2013 的发行版中的选项。</span><span class="sxs-lookup"><span data-stu-id="31889-207">Although the  `$metadata` option for the **ProjectData** reporting service is valid, the  `$metadata` option for the **ProjectServer** service of the CSOM is removed in the released version of Project Server 2013.</span></span> <span data-ttu-id="31889-208">CSOM 的 REST 查询的详细信息，请参阅[Project server 的客户端对象模型 (CSOM)](client-side-object-model-csom-for-project-2013.md)。</span><span class="sxs-lookup"><span data-stu-id="31889-208">For more information about REST queries for the CSOM, see [Client-side object model (CSOM) for Project Server](client-side-object-model-csom-for-project-2013.md).</span></span> 
  
- <span data-ttu-id="31889-209">**PSI 转发器：** 以编程方式访问单独 WFE 上 PSI 经历 PSI 转发器，其中包括 WCF 转发器和 Web 服务转发器。</span><span class="sxs-lookup"><span data-stu-id="31889-209">**PSI Forwarder:** Programmatic access to the PSI on a separate WFE goes through the PSI Forwarder, which includes a WCF Forwarder and a Web Service Forwarder.</span></span> <span data-ttu-id="31889-210">客户端使用 ASMX 接口的 Web 服务转发器通过访问 PSI。</span><span class="sxs-lookup"><span data-stu-id="31889-210">Clients that use the ASMX interface access the PSI through the Web Service Forwarder.</span></span> <span data-ttu-id="31889-211">使用 WCF 接口的客户端通过 WCF 转发器访问 PSI。</span><span class="sxs-lookup"><span data-stu-id="31889-211">Clients that use the WCF interface access the PSI through the WCF Forwarder.</span></span> <span data-ttu-id="31889-212">通过 CSOM、 OData、 和 REST 进行编程访问通过 WCF 转发器通过管道传递。</span><span class="sxs-lookup"><span data-stu-id="31889-212">Programmatic access through the CSOM, OData, and REST is piped through the WCF Forwarder.</span></span> 
    
- <span data-ttu-id="31889-213">**工作流：** 声明性工作流 （SharePoint Designer 2013 中定义的工作流） 都被处理转移到工作流管理器客户端 1.0。</span><span class="sxs-lookup"><span data-stu-id="31889-213">**Workflows:** Declarative workflows (workflows that are defined in SharePoint Designer 2013) are offloaded to Workflow Manager Client 1.0 for processing.</span></span> <span data-ttu-id="31889-214">工作流管理器客户端 1.0 可以在 Microsoft Azure 在云中，或以进行测试或演示单一 Project Server 计算机上的 SharePoint 场中的单独服务器上运行。</span><span class="sxs-lookup"><span data-stu-id="31889-214">Workflow Manager Client 1.0 can run on a separate server in the SharePoint farm, on Microsoft Azure in the cloud, or on a single Project Server computer for testing or demonstrations.</span></span> <span data-ttu-id="31889-215">使用 Visual Studio 2012 开发的编码工作流在 SharePoint，与 Project Server 2010 中的工作流运行时处理。</span><span class="sxs-lookup"><span data-stu-id="31889-215">Coded workflows that are developed with Visual Studio 2012 are processed in the workflow runtime within SharePoint, as in Project Server 2010.</span></span> <span data-ttu-id="31889-216">有关详细信息，请参阅[Getting started 开发 Project Server 工作流](getting-started-developing-project-server-workflows.md)。</span><span class="sxs-lookup"><span data-stu-id="31889-216">For more information, see [Getting started developing Project Server workflows](getting-started-developing-project-server-workflows.md).</span></span>
    
- <span data-ttu-id="31889-217">**外围网络 (DMZ):** 图 3 不显示，可通过外围网络 （也称为"外围安全区域"或 DMZ） 中的附加防火墙隔离内部部署 WFE 服务器。</span><span class="sxs-lookup"><span data-stu-id="31889-217">**Perimeter network (DMZ):** Figure 3 does not show that an on-premises WFE server can be isolated by an additional firewall in a perimeter network (also known as a "demilitarized zone" or DMZ).</span></span> <span data-ttu-id="31889-218">外围网络可以允许 Internet 客户端跨防火墙访问 SharePoint 和 Project Server。</span><span class="sxs-lookup"><span data-stu-id="31889-218">A perimeter network can allow Internet clients to access SharePoint and Project Server across a firewall.</span></span> 
    
- <span data-ttu-id="31889-219">**的 SharePoint Web 服务：** 图 3 不会显示 SharePoint 基础结构，如后端 SharePoint Web 服务应用程序，它是 SharePoint Server 2013 的一部分。</span><span class="sxs-lookup"><span data-stu-id="31889-219">**SharePoint Web Services:** Figure 3 does not show the SharePoint infrastructure, such as the back-end SharePoint Web Services application, which is part of SharePoint Server 2013.</span></span> <span data-ttu-id="31889-220">在安装 Project Server 时，Project Service 应用程序添加到 SharePoint Web 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-220">When you install Project Server, the Project Service Application is added to the SharePoint Web Services.</span></span> 
    
<span data-ttu-id="31889-221">前端层包括第三方应用程序、 Project Professional 和 Project Web App。</span><span class="sxs-lookup"><span data-stu-id="31889-221">The front-end tier includes third-party applications, Project Professional, and Project Web App.</span></span> <span data-ttu-id="31889-222">浏览器中显示 Project Web App 中的 ASP.NET 4.0 页面 （.aspx 页）。</span><span class="sxs-lookup"><span data-stu-id="31889-222">A browser displays ASP.NET 4.0 pages (.aspx pages) in Project Web App.</span></span> <span data-ttu-id="31889-223">Project Web App 页使用 Project Server Web 部件的使用 PSI 进行通信和还使用标准 SharePoint Web 部件。</span><span class="sxs-lookup"><span data-stu-id="31889-223">The Project Web App pages use Project Server Web Parts that communicate with the PSI and also use standard SharePoint Web Parts.</span></span> 
  
<span data-ttu-id="31889-224">中间层包括 PSI 和业务对象层包含表示 Project Server 业务实体的逻辑对象。</span><span class="sxs-lookup"><span data-stu-id="31889-224">The middle tier includes the PSI and the business object layer, which consists of logical objects that represent Project Server business entities.</span></span> <span data-ttu-id="31889-225">业务实体包括项目、 任务、 资源、 工作分配，等等。</span><span class="sxs-lookup"><span data-stu-id="31889-225">Business entities include Project, Task, Resource, Assignment, and so on.</span></span> <span data-ttu-id="31889-226">PSI 和业务对象层紧密耦合位于同一服务器上。</span><span class="sxs-lookup"><span data-stu-id="31889-226">The PSI and the business object tier are tightly coupled and are located on the same server.</span></span> <span data-ttu-id="31889-227">客户端应用程序通过一个可用的接口，调用 PSI 和 PSI 调用业务对象。</span><span class="sxs-lookup"><span data-stu-id="31889-227">A client application calls the PSI through one of the available interfaces, and the PSI invokes business objects.</span></span> <span data-ttu-id="31889-228">改进的性能，Project Server 2013 的 WFE 包括不使用 Project Server 队列系统或不需要 Project Calculation Service 请求的一些业务对象。</span><span class="sxs-lookup"><span data-stu-id="31889-228">For improved performance, the WFE of Project Server 2013 includes some business objects for requests that do not use the Project Server Queuing System or require the Project Calculation Service.</span></span> <span data-ttu-id="31889-229">直接与 Project 数据库通信的 WFE 业务对象。</span><span class="sxs-lookup"><span data-stu-id="31889-229">The WFE business objects communicate directly with the Project database.</span></span>
  
<span data-ttu-id="31889-230">Project Server 的 Project Web App 组件使用项目网站设置和项目网站内容，例如任务列表、 自定义页面、 工作流、 管理设置、 文档和的列表的内容数据库的 SharePoint 2013 配置数据库问题、 风险和承诺。</span><span class="sxs-lookup"><span data-stu-id="31889-230">The Project Web App components of Project Server use the SharePoint 2013 configuration database for project site setup and the content database for project site content such as task lists, custom pages, workflows, management settings, documents, and lists of issues, risks, and commitments.</span></span> <span data-ttu-id="31889-231">SharePoint 配置数据库和内容数据库支持用于管理的项目，如项目模板和工作区的其他功能自定义列表团队协作和报告。</span><span class="sxs-lookup"><span data-stu-id="31889-231">The SharePoint configuration and content databases support additional features for project management, such as project templates and workspaces, custom lists for team collaboration, and reports.</span></span>
  
### <a name="project-web-app-and-the-wfe"></a><span data-ttu-id="31889-232">Project Web App 和 WFE</span><span class="sxs-lookup"><span data-stu-id="31889-232">Project Web App and the WFE</span></span>
<span data-ttu-id="31889-233"><a name="pj15_Architecture_PWAServer"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-233"></span></span>

<span data-ttu-id="31889-234">要启用负载分布 intranet 客户端的 WFE 和企业 intranet 内的多台 WFE 服务器上，您可以配置多个 Project Web App 实例。</span><span class="sxs-lookup"><span data-stu-id="31889-234">You can configure multiple Project Web App instances on a WFE and multiple WFE servers within a corporate intranet to enable load distribution for intranet clients.</span></span> <span data-ttu-id="31889-235">当客户端应用程序使用单独的 WFE 服务器上的 Project Web App 实例时，PSI 呼叫通过 PSI 转发器进行路由。</span><span class="sxs-lookup"><span data-stu-id="31889-235">When a client application uses a Project Web App instance on a separate WFE server, PSI calls are routed through the PSI Forwarder.</span></span> <span data-ttu-id="31889-236">PSI 转发器 （WCF 转发器或 Web 服务转发器） 执行下列功能：</span><span class="sxs-lookup"><span data-stu-id="31889-236">The PSI Forwarder (either the WCF Forwarder or the Web Service Forwarder) performs the following functions:</span></span>
  
- <span data-ttu-id="31889-237">优化对远程客户端中的 PSI 的调用。</span><span class="sxs-lookup"><span data-stu-id="31889-237">Optimizes calls to the PSI from remote clients.</span></span>
    
- <span data-ttu-id="31889-238">需要 Project Server 队列服务的 PSI 调用和不区分。</span><span class="sxs-lookup"><span data-stu-id="31889-238">Distinguishes between PSI calls that require the Project Server Queue Service, and those that do not.</span></span> <span data-ttu-id="31889-239">异步的 PSI 方法名称开头队列，如**QueueCreateProject**。</span><span class="sxs-lookup"><span data-stu-id="31889-239">Asynchronous PSI method names begin with Queue, such as **QueueCreateProject**.</span></span>
    
- <span data-ttu-id="31889-240">标识调用注册的本地事件处理程序的 PSI 调用。</span><span class="sxs-lookup"><span data-stu-id="31889-240">Identifies PSI calls that invoke registered local event handlers.</span></span>
    
- <span data-ttu-id="31889-241">标识需要 Project Calculation Service 的 PSI 调用。</span><span class="sxs-lookup"><span data-stu-id="31889-241">Identifies PSI calls that require the Project Calculation Service.</span></span>
    
- <span data-ttu-id="31889-242">使用基于服务器的缓存，将该缓存与 Project Professional 中的客户端活动缓存一起使用可减少对 Project Server 的往返调用次数。</span><span class="sxs-lookup"><span data-stu-id="31889-242">Uses a server-based cache that works with the client-side Active Cache in Project Professional to reduce roundtrip calls to Project Server.</span></span>
    
<span data-ttu-id="31889-243">SharePoint Server 对 Project Server 用户进行身份验证后，PSI 转发器透明地实施发送运行 Project Server 的计算机使用 PSI 服务后端服务的请求。</span><span class="sxs-lookup"><span data-stu-id="31889-243">After SharePoint Server authenticates a Project Server user, the PSI Forwarder transparently sends requests that use back-end services to the PSI services on the computer running Project Server.</span></span> <span data-ttu-id="31889-244">不需要后端服务的请求发送到本地的 Project Web App 实例中的业务对象。</span><span class="sxs-lookup"><span data-stu-id="31889-244">Requests that do not require back-end services are sent to the business objects in the local Project Web App instance.</span></span> <span data-ttu-id="31889-245">PSI 转发器处理通过 LAN，WAN，和 Project Online 中的 Project server 提高可伸缩性、 性能和可靠性。</span><span class="sxs-lookup"><span data-stu-id="31889-245">The PSI Forwarder improves scalability, performance, and reliability for Project Server processing over the LAN, a WAN, and in Project Online.</span></span>
  
<span data-ttu-id="31889-246">Project Web App 开发与 ASP.NET 4.0。</span><span class="sxs-lookup"><span data-stu-id="31889-246">Project Web App is developed with ASP.NET 4.0.</span></span> <span data-ttu-id="31889-247">.Aspx 文件 （HTML、 服务器控件和静态文本） 中的可视元素是独立的编译的程序集 （.dll 文件） 中的代码隐藏类中的编程逻辑。</span><span class="sxs-lookup"><span data-stu-id="31889-247">The visual elements in .aspx files (HTML, server controls, and static text) are separate from the programming logic in code-behind classes that are in compiled assemblies (.dll files).</span></span> <span data-ttu-id="31889-248">可以通过使用 Web 部件自定义网站页面在 Project Web App 中，如顶级页、 项目中心和报告中心。</span><span class="sxs-lookup"><span data-stu-id="31889-248">Site pages in Project Web App, such as the top-level page, Project Center, and Report Center, can be customized by using Web Parts.</span></span> <span data-ttu-id="31889-249">在**网站操作**菜单中没有**编辑页面**选项的应用程序页不能编辑，如服务器设置页和审阅时间表页。</span><span class="sxs-lookup"><span data-stu-id="31889-249">Application pages that do not have an **Edit Page** option in the **Site Actions** menu cannot be edited, such as the Server Settings page and the Review Timesheet page.</span></span> 
  
### <a name="the-csom-and-the-project-server-interface"></a><span data-ttu-id="31889-250">CSOM 和 Project Server 接口</span><span class="sxs-lookup"><span data-stu-id="31889-250">The CSOM and the Project Server Interface</span></span>
<span data-ttu-id="31889-251"><a name="pj15_Architecture_PSI"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-251"></span></span>

<span data-ttu-id="31889-252">PSI 在内 22 公共服务，如**项目**、**资源**、 **CustomField**和**进展状况**。</span><span class="sxs-lookup"><span data-stu-id="31889-252">The PSI is factored into 22 public services, such as **Project**, **Resource**, **CustomField**, and **Statusing**.</span></span> <span data-ttu-id="31889-253">PSI 还包含七个专用服务供内部使用。</span><span class="sxs-lookup"><span data-stu-id="31889-253">The PSI also contains seven private services for internal use.</span></span> <span data-ttu-id="31889-254">PSI 的是基本 API 的 Project Server;它公开到 CSOM 和外部应用程序的 Project Server 功能。</span><span class="sxs-lookup"><span data-stu-id="31889-254">The PSI is the fundamental API of Project Server; it exposes Project Server functionality to the CSOM and to external applications.</span></span> <span data-ttu-id="31889-255">CSOM 包括访问最常用的 PSI 类和成员用于第三方应用程序的类。</span><span class="sxs-lookup"><span data-stu-id="31889-255">The CSOM includes classes that access the most commonly used PSI classes and members that are used for third-party applications.</span></span> <span data-ttu-id="31889-256">Project Server 2013 中某些 Project Server 功能不可用 csom，如**管理**服务、**日历**、 **PortfolioAnalyses**和**安全**的服务。</span><span class="sxs-lookup"><span data-stu-id="31889-256">In Project Server 2013, some Project Server functionality is not available in the CSOM, such as the **Admin**, **Calendar**, **PortfolioAnalyses**, and **Security** services.</span></span> 
  
<span data-ttu-id="31889-257">Project Professional 2013 和 Project Web App 使用 PSI 访问中的草稿、 已发布，Project Server 数据和存档表和视图的 Project 数据库。</span><span class="sxs-lookup"><span data-stu-id="31889-257">Project Professional 2013 and Project Web App use the PSI to access Project Server data in the draft, published, and archive tables and views of the Project database.</span></span> <span data-ttu-id="31889-258">您可以通过代理文件或代理程序集的 WCF 服务或的 ASMX web 服务访问 PSI 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-258">You can access a PSI service through a proxy file or a proxy assembly, for either the WCF services or the ASMX web services.</span></span>
  
> [!NOTE]
> <span data-ttu-id="31889-259">CSOM 是针对第三方 Project Server 开发人员; 的首选的接口可用于访问内部部署 Project Server 安装和 Project Online 的应用程序。</span><span class="sxs-lookup"><span data-stu-id="31889-259">The CSOM is the preferred interface for third-party Project Server developers; it can be used for applications that access both an on-premises Project Server installation and Project Online.</span></span> <span data-ttu-id="31889-260">我们建议使用 CSOM 开发新的应用程序，如果 CSOM 包括您的应用程序需要的功能。</span><span class="sxs-lookup"><span data-stu-id="31889-260">We recommend that you use the CSOM for developing new applications, if the CSOM includes the functionality that your application requires.</span></span> 
  
<span data-ttu-id="31889-261">某些业务线 (LOB) 应用程序和其他第三方开发的应用程序的 Project Server 2010 需要尚不会出现在 CSOM 的 PSI 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-261">Some line-of-business (LOB) applications and other third-party applications that were developed for Project Server 2010 require PSI services that are not yet represented in the CSOM.</span></span> <span data-ttu-id="31889-262">如果这些目标仅在本地安装的 Project Server，应用程序可以继续使用 WCF 接口或 PSI 的 ASMX 接口。</span><span class="sxs-lookup"><span data-stu-id="31889-262">If they target only an on-premises installation of Project Server, applications can continue to use the WCF interface or the ASMX interface of the PSI.</span></span>
  
<span data-ttu-id="31889-263">客户端应用程序调用 PSI 通过服务代理。</span><span class="sxs-lookup"><span data-stu-id="31889-263">Client applications call the PSI through service proxies.</span></span> <span data-ttu-id="31889-264">使用 WCF 接口的客户端访问所有 PSI 服务通过`http://ServerName/ProjectServerName/_vti_bin/psi/ProjectServer.svc`。</span><span class="sxs-lookup"><span data-stu-id="31889-264">Clients that use the WCF interface access all PSI services through  `http://ServerName/ProjectServerName/_vti_bin/psi/ProjectServer.svc`.</span></span> <span data-ttu-id="31889-265">使用 ASMX web 服务接口的客户端使用的特定服务的 Project Web App 的 URL。</span><span class="sxs-lookup"><span data-stu-id="31889-265">Clients that use an ASMX web service interface use the Project Web App URL for the specific service.</span></span> <span data-ttu-id="31889-266">例如，**资源**服务位于`http://ServerName/ProjectServerName/_vti_bin/psi/resource.asmx?wsdl`。</span><span class="sxs-lookup"><span data-stu-id="31889-266">For example, the **Resource** service is at  `http://ServerName/ProjectServerName/_vti_bin/psi/resource.asmx?wsdl`.</span></span> <span data-ttu-id="31889-267">如果应用程序没有 intranet 访问 Project Server，他们可以在外围网络 （不显示在图 3） 使用的 Project Web App 服务器。</span><span class="sxs-lookup"><span data-stu-id="31889-267">If applications do not have intranet access to Project Server, they can use a Project Web App server in a perimeter network (not shown in Figure 3).</span></span>
  
<span data-ttu-id="31889-268">图 4 显示**连接**窗格在**Internet 信息服务 (IIS) 管理器中**的单服务器安装的 SharePoint Server 2013 和 Project Server 2013 本地工作流管理网站的工作流管理器客户端 1.0。</span><span class="sxs-lookup"><span data-stu-id="31889-268">Figure 4 shows the **Connections** pane in **Internet Information Services (IIS) Manager** for a single-server installation of SharePoint Server 2013, Project Server 2013, and a local Workflow Management site for Workflow Manager Client 1.0.</span></span> <span data-ttu-id="31889-269">SharePoint 网站集 (A) 包括前端 PSI 服务中的`_vti_bin\PSI`虚拟子目录。</span><span class="sxs-lookup"><span data-stu-id="31889-269">The SharePoint site collection (A) includes the front-end PSI services in the  `_vti_bin\PSI` virtual subdirectory.</span></span> <span data-ttu-id="31889-270">SharePoint Web 服务应用程序 (B) 包括 Project Service 应用程序后, 端 PSI 服务中与`508c23fb7dfd4c83a8919fae24bc68c5/PSI`虚拟子目录。</span><span class="sxs-lookup"><span data-stu-id="31889-270">The SharePoint Web Services application (B) includes the Project Service Application, with the back-end PSI services in the  `508c23fb7dfd4c83a8919fae24bc68c5/PSI` virtual subdirectory.</span></span> <span data-ttu-id="31889-271">GUID 是 Project Server 安装的 Project Service 应用程序实例的名称。</span><span class="sxs-lookup"><span data-stu-id="31889-271">The GUID is the name of the Project Service Application instance for that Project Server installation.</span></span> 
  
<span data-ttu-id="31889-272">**图 4。IIS 管理器中显示前端 PSI (A) 和后端 PSI (B)**</span><span class="sxs-lookup"><span data-stu-id="31889-272">**Figure 4. IIS Manager showing the front-end PSI (A), and the back-end PSI (B)**</span></span>

<span data-ttu-id="31889-273">![前端 PSI 和后端 PSI](media/pj15_Architecture_PSI_IIS.gif "前端 PSI 和后端 PSI")</span><span class="sxs-lookup"><span data-stu-id="31889-273">![The front-end PSI and the back-end PSI](media/pj15_Architecture_PSI_IIS.gif "The front-end PSI and the back-end PSI")</span></span>
  
<span data-ttu-id="31889-274">客户端应用程序无法直接访问后端 Project Service 应用程序中的 PSI 的 WCF 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-274">Client applications cannot directly access the WCF services for the PSI in the back-end Project Service Application.</span></span> <span data-ttu-id="31889-275">如果它们不需要访问 Project Online，客户端应用程序和组件的 LOB 应用程序使用 PSI 代理。</span><span class="sxs-lookup"><span data-stu-id="31889-275">If they do not require access to Project Online, client applications and components of LOB applications use proxies for the PSI.</span></span> <span data-ttu-id="31889-276">如图 4 中的**资源**服务的 WCF 接口的后端 URL 将为`http://ServerName:32843/508c23fb7dfd4c83a8919fae24bc68c5/psi/resource.svc`。</span><span class="sxs-lookup"><span data-stu-id="31889-276">A back-end URL for the WCF interface of the **Resource** service in Figure 4, for example, would be  `http://ServerName:32843/508c23fb7dfd4c83a8919fae24bc68c5/psi/resource.svc`.</span></span> <span data-ttu-id="31889-277">端口 32843 是为 SharePoint Web 服务应用程序的默认 HTTP 端口 （32844 为 HTTPS 通信的端口）。</span><span class="sxs-lookup"><span data-stu-id="31889-277">Port 32843 is the default HTTP port for the SharePoint Web Services application (32844 is the port for HTTPS communications).</span></span> <span data-ttu-id="31889-278">但是，web.config 文件中的为 Project Web App 块直接访问后端 PSI 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-278">However, the web.config file for Project Web App blocks direct access to back-end PSI services.</span></span>
  
> [!NOTE]
> <span data-ttu-id="31889-279">Project 2013 SDK 下载包括用于 WCF 服务和 ASMX 服务的 PSI 代理文件以及如何将其编译为代理程序集的说明。</span><span class="sxs-lookup"><span data-stu-id="31889-279">The Project 2013 SDK download includes PSI proxy files for the WCF services and the ASMX services, and instructions for how to compile them into proxy assemblies.</span></span> <span data-ttu-id="31889-280">> 到创建使用 WCF 接口的更新的 PSI 代理文件，您需要在 Project Server 计算机上直接使用 svcutil.exe 实用程序或 Visual Studio。</span><span class="sxs-lookup"><span data-stu-id="31889-280">> To create updated PSI proxy files that use the WCF interface, you have to use the svcutil.exe utility or Visual Studio directly on the Project Server computer.</span></span> 
  
<span data-ttu-id="31889-281">PSI 服务的成员通常生成，或作为交换信息与业务对象的方法使用键入的**DataSet**对象。</span><span class="sxs-lookup"><span data-stu-id="31889-281">Members of the PSI services typically produce or consume typed **DataSet** objects as the means to exchange information with the business objects.</span></span> <span data-ttu-id="31889-282">还有 PSI 开发的几种不同的模型。</span><span class="sxs-lookup"><span data-stu-id="31889-282">There are also several different models for PSI development.</span></span> <span data-ttu-id="31889-283">例如，**资源**、 **CustomFields**和**LookupTable** PSI 服务的**数据集**操作，使用 XML 筛选器对象和其他服务不;**Statusing**服务中的某些方法使用的_changeXml_参数，而其他方法和服务不能。</span><span class="sxs-lookup"><span data-stu-id="31889-283">For example, the **Resource**, **CustomFields**, and **LookupTable** PSI services use XML filter objects for **DataSet** manipulation, and other services do not; some methods in the **Statusing** service use a  _changeXml_ parameter, while other methods and services do not.</span></span> <span data-ttu-id="31889-284">CSOM 不使用数据集。</span><span class="sxs-lookup"><span data-stu-id="31889-284">The CSOM does not use datasets.</span></span> <span data-ttu-id="31889-285">尽管您可以使用.NET 程序集或 JavaScript CSOM 具有不同的编程模型比 PSI，以及使用 CSOM 开发是通常更简单、 更一致比使用 PSI 进行开发。</span><span class="sxs-lookup"><span data-stu-id="31889-285">Although the CSOM has a different programming model than the PSI, and you can use either .NET assemblies or JavaScript, development with the CSOM is generally simpler and more consistent than development with the PSI.</span></span> 
  
<span data-ttu-id="31889-286">有关 PSI 的详细信息，请参阅[Project PSI 参考概述](project-psi-reference-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="31889-286">For more information about the PSI, see [Project PSI reference overview](project-psi-reference-overview.md).</span></span> <span data-ttu-id="31889-287">有关 CSOM 的详细信息，请参阅[Project 2013 的客户端对象模型 (CSOM)](client-side-object-model-csom-for-project-2013.md)。</span><span class="sxs-lookup"><span data-stu-id="31889-287">For more information about the CSOM, see [Client-side object model (CSOM) for Project 2013](client-side-object-model-csom-for-project-2013.md).</span></span>
  
### <a name="business-objects-in-the-wfe-and-the-project-service-application"></a><span data-ttu-id="31889-288">WFE 中的业务对象和 Project Service 应用程序</span><span class="sxs-lookup"><span data-stu-id="31889-288">Business objects in the WFE and the Project Service Application</span></span>
<span data-ttu-id="31889-289"><a name="pj15_Architecture_BusinessObjects"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-289"></span></span>

<span data-ttu-id="31889-p142">Project Server 的内部对象模型包括业务对象，它们表示 Project 和 Resource 等逻辑实体。客户端应用程序仅通过 CSOM 或 PSI 访问业务对象。反过来，业务对象将访问 Project 数据库中的草稿、已发布和存档表和视图。</span><span class="sxs-lookup"><span data-stu-id="31889-p142">The internal object model of Project Server includes the business objects, which represent logical entities such as Project and Resource. Client applications access business objects only through the CSOM or the PSI. Business objects, in turn, access the draft, published, and archive tables and views in the Project database.</span></span>
  
<span data-ttu-id="31889-p143">不会向第三方开发人员公开业务对象。PSI 将处理 API 与业务对象的映射，而 CSOM 会将其 API 映射到 PSI。业务对象的逻辑实体可分为三类：</span><span class="sxs-lookup"><span data-stu-id="31889-p143">Business objects are not exposed to third-party developers. The PSI handles mapping of the API to business objects, and the CSOM maps its API to the PSI. The logical entities of business objects can be classified into three types:</span></span>
  
- <span data-ttu-id="31889-296">**核心实体**是如项目、 任务、 工作分配、 资源和日历的对象。</span><span class="sxs-lookup"><span data-stu-id="31889-296">**Core entities** are objects such as projects, tasks, assignments, resources, and calendars.</span></span> <span data-ttu-id="31889-297">核心实体包括基本的业务逻辑，如权限和命名规则。</span><span class="sxs-lookup"><span data-stu-id="31889-297">The core entities include basic business logic such as permissions and naming rules.</span></span> 
    
- <span data-ttu-id="31889-298">**业务实体**是时间表、 项目组合和模型等对象。</span><span class="sxs-lookup"><span data-stu-id="31889-298">**Business entities** are objects such as timesheets, project portfolios, and models.</span></span> <span data-ttu-id="31889-299">业务实体包括附加业务逻辑和通常构建的核心实体的组合。</span><span class="sxs-lookup"><span data-stu-id="31889-299">Business entities include additional business logic and usually are built from a combination of the core entities.</span></span> 
    
- <span data-ttu-id="31889-300">**支持实体**是安全性和验证等对象。</span><span class="sxs-lookup"><span data-stu-id="31889-300">**Support entities** are objects such as security and validation.</span></span> 
    
<span data-ttu-id="31889-301">在 Project Server 2010 中，所有业务对象是 Project Service 应用程序中都实现的。</span><span class="sxs-lookup"><span data-stu-id="31889-301">In Project Server 2010, all business objects are implemented in the Project Service Application.</span></span> <span data-ttu-id="31889-302">Project Server 2013 中 WFE 承载多个处理同步方法并不需要 Project Calculation Service 的业务对象。</span><span class="sxs-lookup"><span data-stu-id="31889-302">In Project Server 2013, the WFE hosts many of the business objects that process synchronous methods and do not require the Project Calculation Service.</span></span> <span data-ttu-id="31889-303">同步的 PSI 方法，如**DeleteProject**和**ReadAssignments**不要使用 Project Server 队列服务。</span><span class="sxs-lookup"><span data-stu-id="31889-303">Synchronous PSI methods such as **DeleteProject** and **ReadAssignments** do not use the Project Server Queue Service.</span></span> <span data-ttu-id="31889-304">PSI 中的异步方法具有开头的名称`Queue`、 **QueueUpdateTimesheet** **QueueCreateProject**等。</span><span class="sxs-lookup"><span data-stu-id="31889-304">Asynchronous methods in the PSI have names that start with  `Queue`, such as **QueueCreateProject** and **QueueUpdateTimesheet**.</span></span> <span data-ttu-id="31889-305">异步方法向时控件返回给用户安排处理分析方法的 Project Server 队列服务发送邮件。</span><span class="sxs-lookup"><span data-stu-id="31889-305">An asynchronous method sends a message to the Project Server Queue Service, which schedules processing of the method while control is returned to the user.</span></span>
  
<span data-ttu-id="31889-p147">PSI 转发器决定将哪些请求发送到 Project Service 应用程序以及哪些请求可由 WFE 中的业务对象处理。WFE 中的业务对象将绕过 Project Service 应用程序并可以直接访问 Project 数据库，这与 WFE 中的其他 SharePoint 过程直接访问配置数据库和内容数据库的方式类似。通过在 WFE 上运行多个业务对象，可以提高 Project Server 的效率、减少应用程序层的负载并使 Project Server 能够更好地向上扩展以适应增加的工作负载。</span><span class="sxs-lookup"><span data-stu-id="31889-p147">The PSI Forwarder determines which requests are sent to the Project Service Application and which can be processed by the business objects in the WFE. The business objects in the WFE bypass the Project Service Application and have direct access to the Project database, similar to the way other SharePoint processes in a WFE directly access the Configuration and Content databases. Running many of the business objects on the WFE improves the efficiency of Project Server, reduces the load on the application tier, and enables Project Server to better scale up for increased workloads.</span></span>
  
> [!NOTE]
> <span data-ttu-id="31889-309">在 Project Server 2013 中本地事件处理程序都必须部署到 WFE 和后端 Project Server 计算机。</span><span class="sxs-lookup"><span data-stu-id="31889-309">In Project Server 2013, local event handlers must be deployed to the WFE and to the back-end Project Server computer.</span></span> 
  
### <a name="project-server-database"></a><span data-ttu-id="31889-310">Project Server 数据库</span><span class="sxs-lookup"><span data-stu-id="31889-310">Project Server database</span></span>
<span data-ttu-id="31889-311"><a name="pj15_Architecture_DAL"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-311"></span></span>

<span data-ttu-id="31889-312">在 Project Server 2013 中的以前版本的四个 Project Server 数据库合并到 SQL Server 中的一个 Project 数据库中。</span><span class="sxs-lookup"><span data-stu-id="31889-312">In Project Server 2013, the four Project Server databases of previous versions are combined into one Project database in SQL Server.</span></span> <span data-ttu-id="31889-313">默认项目数据库名称为 ProjectService。</span><span class="sxs-lookup"><span data-stu-id="31889-313">The default Project database name is ProjectService.</span></span> <span data-ttu-id="31889-314">报告表和视图保留它们先前的名称与`dbo`前缀，例如 dbo。MSP_EpmProject 和 dbo。MSP_EpmProject_UserView。</span><span class="sxs-lookup"><span data-stu-id="31889-314">The reporting tables and views retain their previous names with the  `dbo` prefix, such as dbo.MSP_EpmProject and dbo.MSP_EpmProject_UserView.</span></span> <span data-ttu-id="31889-315">具有表和视图以前在草稿数据库的`draft`前缀。</span><span class="sxs-lookup"><span data-stu-id="31889-315">Tables and views that were previously in the Draft database have the  `draft` prefix.</span></span> <span data-ttu-id="31889-316">具有表和视图的已发布数据库从`pub`前缀。</span><span class="sxs-lookup"><span data-stu-id="31889-316">Tables and views from the Published database have the  `pub` prefix.</span></span> <span data-ttu-id="31889-317">表和视图从存档数据库有`ver`前缀。</span><span class="sxs-lookup"><span data-stu-id="31889-317">Tables and views from the Archive database have the  `ver` prefix.</span></span> 
  
> [!IMPORTANT]
> <span data-ttu-id="31889-318">直接访问不支持草稿 (`draft`前缀)、 已发布 (`pub`前缀)，和存档 (`ver`前缀) 表和视图。</span><span class="sxs-lookup"><span data-stu-id="31889-318">Direct access is not supported for the draft ( `draft` prefix), published (  `pub` prefix), and archive (  `ver` prefix) tables and views.</span></span> <span data-ttu-id="31889-319">仅报告的表和视图，具有，应使用报告`dbo`前缀。</span><span class="sxs-lookup"><span data-stu-id="31889-319">Reports should use only the reporting tables and views, which have the  `dbo` prefix.</span></span> 
  
<span data-ttu-id="31889-320">Project Server 数据在 Project 数据库中进行了分区，如下所示：</span><span class="sxs-lookup"><span data-stu-id="31889-320">Project Server data is partitioned in the Project database as follows:</span></span>
  
- <span data-ttu-id="31889-321">草稿表和视图包含未发布项目创建的 Project Professional 和其他应用程序中的数据。</span><span class="sxs-lookup"><span data-stu-id="31889-321">The draft tables and views contain data from unpublished projects that were created by Project Professional and other applications.</span></span> <span data-ttu-id="31889-322">Project Web App 不显示从草稿表和视图的项目数据。</span><span class="sxs-lookup"><span data-stu-id="31889-322">Project Web App does not display project data from the draft tables and views.</span></span>
    
- <span data-ttu-id="31889-323">已发布的表和视图包含的所有的已发布的项目和企业资源、 企业项目类型 (Ept) 的全局数据和其他项目模板。</span><span class="sxs-lookup"><span data-stu-id="31889-323">The published tables and views contain all of the published projects and enterprise resources, global data for enterprise project types (EPTs), and other project templates.</span></span> <span data-ttu-id="31889-324">已发布的项目是在 Project Web App 中可见。</span><span class="sxs-lookup"><span data-stu-id="31889-324">Published projects are visible in Project Web App.</span></span> <span data-ttu-id="31889-325">已发布的数据还包括特定于 Project Web App （时间表、 模型、 视图等） 的表和全局数据表 （自定义字段、 查阅表格、 Project Server 授权权限和元数据）。</span><span class="sxs-lookup"><span data-stu-id="31889-325">The published data also includes tables that are specific to Project Web App (timesheets, models, views, and so on), and global data tables (custom fields, lookup tables, Project Server authorization permissions, and metadata).</span></span>
    
- <span data-ttu-id="31889-326">存档数据将保存项目、资源、自定义字段和其他数据的备份版本。</span><span class="sxs-lookup"><span data-stu-id="31889-326">The archive data saves backup versions of projects, resources, custom fields, and other data.</span></span>
    
- <span data-ttu-id="31889-327">第三方应用程序中的只读访问权限和报告，可以使用的报表数据。</span><span class="sxs-lookup"><span data-stu-id="31889-327">The reporting data can be used for read-only access in third-party applications, and for reports.</span></span> <span data-ttu-id="31889-328">Project Server OLAP 多维数据集使用具有报告视图`_OlapView`后缀。</span><span class="sxs-lookup"><span data-stu-id="31889-328">Project Server OLAP cubes use the reporting views that have the  `_OlapView` suffix.</span></span> <span data-ttu-id="31889-329">OLAP 多维数据集可在内部部署 Project Server 安装中，但在 Project Online 中不可用。</span><span class="sxs-lookup"><span data-stu-id="31889-329">OLAP cubes are available in an on-premises Project Server installation, but are not available in Project Online.</span></span> 
    
    <span data-ttu-id="31889-p153">报表数据非常全面，并且几乎是实时更新的。报告表和视图已针对只读报表生成进行优化；例如，报告表是非规范化的，旨在提供冗余数据和减少关系表的数目。</span><span class="sxs-lookup"><span data-stu-id="31889-p153">Reporting data is comprehensive and is updated nearly in real time. The reporting tables and views are optimized for read-only report generation; for example, the reporting tables are denormalized to provide redundant data and reduce the number of relational tables.</span></span>
    
<span data-ttu-id="31889-p154">逻辑实体（如 Resource 或 Project）可跨多个表，并且针对某个特殊实体的所有表都具有相同的主键。主键是单个列中的 GUID，用于唯一标识特殊实体的一个实例。</span><span class="sxs-lookup"><span data-stu-id="31889-p154">Logical entities such as Resource or Project can span multiple tables, and all tables for a particular entity have the same primary key. The primary key is a GUID in a single column that uniquely identifies one instance of a particular entity.</span></span>
  
<span data-ttu-id="31889-334">Project Web App 的每个实例的 project Server 数据存储在单独的 Project 数据库使用不同的名称。</span><span class="sxs-lookup"><span data-stu-id="31889-334">Project Server data for each instance of Project Web App is stored in a separate Project database with a different name.</span></span> <span data-ttu-id="31889-335">报告表和视图，可以直接读取可以直接访问 Project Server 的客户端应用程序。</span><span class="sxs-lookup"><span data-stu-id="31889-335">Client applications that have direct access to Project Server can directly read the reporting tables and views.</span></span> <span data-ttu-id="31889-336">对于远程访问客户端应用程序可以使用 OData 接口和 REST 接口获取报告的数据。</span><span class="sxs-lookup"><span data-stu-id="31889-336">For remote access, client applications can use the OData interface and the REST interface to get data for reports.</span></span> <span data-ttu-id="31889-337">客户端应使用仅 CSOM 或 PSI 访问草稿、 已发布，并将存档表和视图。</span><span class="sxs-lookup"><span data-stu-id="31889-337">Clients should use only the CSOM or the PSI to access the draft, published, and archive tables and views.</span></span> <span data-ttu-id="31889-338">报告数据服务 (RDS，而不会显示在图 3) 更新从近乎实时的已发布数据的报表数据。</span><span class="sxs-lookup"><span data-stu-id="31889-338">The Reporting Data Service (RDS, which is not shown in Figure 3) updates the reporting data from published data in nearly real time.</span></span> <span data-ttu-id="31889-339">将 Project 数据库可以位于单独的服务器上。</span><span class="sxs-lookup"><span data-stu-id="31889-339">The Project database can be located on a separate server.</span></span>
  
<span data-ttu-id="31889-340">架构记录仅用于报表的表和视图。</span><span class="sxs-lookup"><span data-stu-id="31889-340">Schemas are documented only for the reporting tables and views.</span></span> <span data-ttu-id="31889-341">对于内部部署 Project Server 安装，您可以添加报告表和视图未定义 Project 数据库架构中的实体。</span><span class="sxs-lookup"><span data-stu-id="31889-341">For an on-premises Project Server installation, you can add reporting tables and views for entities that are not defined in the Project database schema.</span></span> <span data-ttu-id="31889-342">您还可以创建单独的数据库的本地自定义应用程序。</span><span class="sxs-lookup"><span data-stu-id="31889-342">You can also create separate databases for custom on-premises applications.</span></span> <span data-ttu-id="31889-343">修改不支持草稿和已发布、 存档表和视图。</span><span class="sxs-lookup"><span data-stu-id="31889-343">Modification is not supported for the draft, published, and archive tables and views.</span></span> <span data-ttu-id="31889-344">由于 Project 数据库不能直接访问 Project Online 中，不能修改报告表和视图。</span><span class="sxs-lookup"><span data-stu-id="31889-344">Because the Project database is not directly accessible in Project Online, reporting tables and views cannot be modified.</span></span> <span data-ttu-id="31889-345">但是，如果您有 SQL Azure 帐户，您可以与 Project Online 中创建自定义使用单独的数据库。</span><span class="sxs-lookup"><span data-stu-id="31889-345">However, if you have a SQL Azure account, you can create separate databases for custom use with Project Online.</span></span>
  
### <a name="event-receivers"></a><span data-ttu-id="31889-346">事件接收器</span><span class="sxs-lookup"><span data-stu-id="31889-346">Event receivers</span></span>
<span data-ttu-id="31889-347"><a name="pj15_Architecture_EventHandlers"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-347"></span></span>

<span data-ttu-id="31889-348">本地事件处理程序和远程事件接收器的 Project Server，例如创建或发布项目的 Project Server 事件的响应中的第三方扩展性。</span><span class="sxs-lookup"><span data-stu-id="31889-348">Local event handlers and remote event receivers for Project Server enable third-party extensibility in response to Project Server events such as creating or publishing a project.</span></span> <span data-ttu-id="31889-349">Project Server 2010 中的所有事件处理本地和以完全信任代码，部署运行 Project Server 的计算机上直接和 Wfe，并运行 Project Server 事件系统内编写。</span><span class="sxs-lookup"><span data-stu-id="31889-349">In Project Server 2010, all event handlers are local and are written in full-trust code, deployed directly on the computer running Project Server and to the WFEs, and run inside the Project Server Eventing System.</span></span> <span data-ttu-id="31889-350">由于 Project Online 无法使用完全信任事件处理程序，Project Server 2013 实现类似于 SharePoint Server 2013 中的远程事件接收器的远程事件接收器。</span><span class="sxs-lookup"><span data-stu-id="31889-350">Because Project Online cannot use full-trust event handlers, Project Server 2013 implements remote event receivers that are similar to the remote event receivers in SharePoint Server 2013.</span></span> <span data-ttu-id="31889-351">传统完全信任事件处理程序和远程事件接收器，可以使用 Project Server 2013 的本地安装。</span><span class="sxs-lookup"><span data-stu-id="31889-351">An on-premises installation of Project Server 2013 can use traditional full-trust event handlers and remote event receivers.</span></span>
  
<span data-ttu-id="31889-352">可以在 Microsoft Azure 或其他支持 SOAP web 服务的环境中运行的 SOAP 终结点与自定义 web 服务中实现的 Project Server 远程事件接收器。</span><span class="sxs-lookup"><span data-stu-id="31889-352">A Project Server remote event receiver can be implemented in a custom web service with a SOAP endpoint that runs in Microsoft Azure or other environments that support SOAP web services.</span></span> <span data-ttu-id="31889-353">Project Server 应用程序包可以包括安装了应用程序的远程事件接收器。</span><span class="sxs-lookup"><span data-stu-id="31889-353">A Project Server app package can include remote event receivers that are installed with the app.</span></span>
  
<span data-ttu-id="31889-354">远程事件接收器可以回调到 Project Server CSOM 终结点 （不显示在图 3） 使用。</span><span class="sxs-lookup"><span data-stu-id="31889-354">Remote event receivers can call back into Project Server by using the CSOM endpoints (not shown in Figure 3).</span></span> <span data-ttu-id="31889-355">呼叫到远程事件接收器包括从 Project Server 事件系统和 Project Web App 实例 （或 Project Online 中的 Project Web App 租户） 发出呼叫的信息。</span><span class="sxs-lookup"><span data-stu-id="31889-355">The call to a remote event receiver includes information from the Project Server Event System and the Project Web App instance (or the Project Web App tenant in Project Online) that issues the call.</span></span> <span data-ttu-id="31889-356">远程事件接收器允许您将创建并承载可由多个 Project Server 安装的单个 web 服务。</span><span class="sxs-lookup"><span data-stu-id="31889-356">Remote event receivers enable you to create and host a single web service that can be used by multiple Project Server installations.</span></span> <span data-ttu-id="31889-357">相比之下，必须为每个安装的 Project Server 部署完全信任的本地事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="31889-357">By contrast, local full-trust event handlers must be deployed to each installation of Project Server.</span></span>
  
### <a name="publishing-and-server-side-scheduling"></a><span data-ttu-id="31889-358">发布和服务器端计划</span><span class="sxs-lookup"><span data-stu-id="31889-358">Publishing and server-side scheduling</span></span>
<span data-ttu-id="31889-359"><a name="pj15_Architecture_PublishingScheduling"> </a></span><span class="sxs-lookup"><span data-stu-id="31889-359"></span></span>

<span data-ttu-id="31889-360">Project Server 2013 支持同时手动和自动项目计划更新。</span><span class="sxs-lookup"><span data-stu-id="31889-360">Project Server 2013 supports both manual and automated project schedule updates.</span></span> <span data-ttu-id="31889-361">默认过程是一个手动计划更新。</span><span class="sxs-lookup"><span data-stu-id="31889-361">The default process is a manual schedule update.</span></span> <span data-ttu-id="31889-362">即，项目经理签出和 Project Professional 或 Project Web App 中打开项目、 应用所做的更改，然后保存并发布项目以使所做的更改可供所有人。</span><span class="sxs-lookup"><span data-stu-id="31889-362">That is, the project manager checks out and opens a project in Project Professional or Project Web App, applies the changes, and then saves and publishes the project to make the changes available to everyone.</span></span> <span data-ttu-id="31889-363">Project Professional 具有计算更改，然后将所做的更改保存到 Project Server 计划引擎。</span><span class="sxs-lookup"><span data-stu-id="31889-363">Project Professional has a scheduling engine that calculates changes and then saves the changes to Project Server.</span></span> <span data-ttu-id="31889-364">Project Server 2010 中的服务器端计划引擎是从 Project Professional 中的计划引擎不同的实现。</span><span class="sxs-lookup"><span data-stu-id="31889-364">In Project Server 2010, the server-side scheduling engine is a different implementation from the scheduling engine in Project Professional.</span></span>
  
<span data-ttu-id="31889-365">在 Project Server 2013，Project Calculation Service 实现 Project Professional 2013 中的相同计划引擎。</span><span class="sxs-lookup"><span data-stu-id="31889-365">In Project Server 2013, the Project Calculation Service implements the same scheduling engine that is in Project Professional 2013.</span></span> <span data-ttu-id="31889-366">在名为**Microsoft Project Server Calculation Service**的 Windows 服务运行 Project Calculation Service。</span><span class="sxs-lookup"><span data-stu-id="31889-366">The Project Calculation Service runs in a Windows service named **Microsoft Project Server Calculation Service**.</span></span> <span data-ttu-id="31889-367">编辑 Project Web App 中或与完全相同计划的更改会使 Project Professional 中使用 CSOM 结果的第三方应用程序的项目计划。</span><span class="sxs-lookup"><span data-stu-id="31889-367">Editing a project schedule in Project Web App or with third-party applications that use the CSOM results in exactly the same schedule changes that Project Professional would make.</span></span>
  
> [!NOTE]
> <span data-ttu-id="31889-368">使用 PSI 的第三方应用程序可能会显示 Project Web App 计算计划一些计划不同之处。</span><span class="sxs-lookup"><span data-stu-id="31889-368">Third-party applications that use the PSI may show some scheduling differences from a schedule that Project Web App calculates.</span></span> <span data-ttu-id="31889-369">向后兼容性，公共的 PSI 方法执行服务器端调度仍使用计划引擎 Project Server 2010 中引入的。</span><span class="sxs-lookup"><span data-stu-id="31889-369">For backward-compatibility, the public PSI methods that do server-side scheduling still use the scheduling engine that was introduced in Project Server 2010.</span></span> <span data-ttu-id="31889-370">异常是**QueueUpdateProject2**，它是新 Project Server 2013 中的 PSI 方法。</span><span class="sxs-lookup"><span data-stu-id="31889-370">An exception is **QueueUpdateProject2**, which is a new PSI method in Project Server 2013.</span></span> <span data-ttu-id="31889-371">例如，旧的计划引擎不安排 subprojects 或其他项目，指向和不计算挣的值字段。</span><span class="sxs-lookup"><span data-stu-id="31889-371">For example, the older scheduling engine does not schedule subprojects or links to other projects, and does not calculate earned value fields.</span></span> <span data-ttu-id="31889-372">以避免潜在安排第三方应用程序与 Project Professional 或 Project Web App 之间的差异您应开发应用程序使用 CSOM 在可能的情况。</span><span class="sxs-lookup"><span data-stu-id="31889-372">To avoid potential scheduling differences between third-party applications and Project Professional or Project Web App, you should develop applications with the CSOM where possible.</span></span> 
  
<span data-ttu-id="31889-373">Project Server 允许在项目经理使用草稿版本时通过执行以下步骤来更新项目的已发布版本：</span><span class="sxs-lookup"><span data-stu-id="31889-373">Project Server allows the published version of a project to be updated while a project manager is using the draft version, by the following steps:</span></span>
  
1. <span data-ttu-id="31889-374">Project Server 应用更新并重新安排已发布版本。</span><span class="sxs-lookup"><span data-stu-id="31889-374">Project Server applies updates and reschedules the published version.</span></span>
    
2. <span data-ttu-id="31889-375">在发生以下任一事件时，Project Server 将保存更新以应用到草稿版本：</span><span class="sxs-lookup"><span data-stu-id="31889-375">Project Server saves the update to apply to the draft version when either of the following events occur:</span></span>
    
   - <span data-ttu-id="31889-376">Project Professional 将打开项目。</span><span class="sxs-lookup"><span data-stu-id="31889-376">Project Professional opens the project.</span></span>
    
   - <span data-ttu-id="31889-377">Project Professional 尝试发布项目。</span><span class="sxs-lookup"><span data-stu-id="31889-377">Project Professional tries to publish the project.</span></span>
    
3. <span data-ttu-id="31889-378">如果存在冲突，项目经理会收到通知且必须先解决冲突，然后才能发布草稿版本。</span><span class="sxs-lookup"><span data-stu-id="31889-378">If there is a conflict, the project manager is notified and must resolve the conflict before the draft version can be published.</span></span>
    
## <a name="see-also"></a><span data-ttu-id="31889-379">另请参阅</span><span class="sxs-lookup"><span data-stu-id="31889-379">See also</span></span>

- [<span data-ttu-id="31889-380">面向开发人员的 project 2013 概述</span><span class="sxs-lookup"><span data-stu-id="31889-380">Project 2013 overview for developers</span></span>](http://msdn.microsoft.com/library/8da91ab0-af4f-429f-8241-490600e3f7bd%28Office.15%29.aspx)
- [<span data-ttu-id="31889-381">Project Server 可编程性 （英文)</span><span class="sxs-lookup"><span data-stu-id="31889-381">Project Server programmability</span></span>](project-server-programmability.md)  
- [<span data-ttu-id="31889-382">客户端对象模型 (CSOM) for Project 2013</span><span class="sxs-lookup"><span data-stu-id="31889-382">Client-side object model (CSOM) for Project 2013</span></span>](client-side-object-model-csom-for-project-2013.md)  
- [<span data-ttu-id="31889-383">PSI 支持和不执行</span><span class="sxs-lookup"><span data-stu-id="31889-383">What the PSI does and does not do</span></span>](what-the-psi-does-and-does-not-do.md)  
- [<span data-ttu-id="31889-384">开发 Project Server 工作流入门</span><span class="sxs-lookup"><span data-stu-id="31889-384">Getting started developing Project Server workflows</span></span>](getting-started-developing-project-server-workflows.md)   
- [<span data-ttu-id="31889-385">项目 PSI 参考概述</span><span class="sxs-lookup"><span data-stu-id="31889-385">Project PSI reference overview</span></span>](project-psi-reference-overview.md)   
- <span data-ttu-id="31889-386">[开放式数据协议](http://www.odata.org/)（http://www.odata.org）</span><span class="sxs-lookup"><span data-stu-id="31889-386">[Open Data Protocol](http://www.odata.org/)</span></span>
    

